<html>
<head>
<script type="text/javascript">
var DestinationGoogleFormId = "1FAIpQLSdRMaP6VyoXWRKy4soR_RtRLL4DibFikwAYQFhb1lh2_GKx7A" // google sheet id from URL https://docs.google.com/forms/d/[...]/edit
var DestinationGoogleFormEntryId = "191679324" // thats the fieldId for the memberId //press the three vertical dashes in google forms and click on "link für Formalr mit Beispielwerten abrufen"
var DestinationGoogleSpreadsheetId = "17-hjfI9oEAsSmAEZcIkKfoMzpaTGIuJd3wVV5X6zMYY" // google spreadsheets id from URL https://docs.google.com/spreadsheets/d/[....]/edit
var DestinationGoogleSheetRange = "Formularantworten 1!B:F"
var GoogleApiKey = 'AIzaSyBlGosN-bpWSGekqiZ0GzlLxxsZcW0zlMg';  // this key is restricted to referer salsativity.github.io
var GoogleClientId = '43003984043-u7tnn8lve8psj8ogpv6h8vurm4pftah8.apps.googleusercontent.com';  // this ClientId is restricted to internal salsativity users only
      // TODO: Authorize using one of the following scopes:
      //   'https://www.googleapis.com/auth/spreadsheets'
      //   'https://www.googleapis.com/auth/spreadsheets.readonly'
var GoogleApiPermissionScope = 'https://www.googleapis.com/auth/spreadsheets.readonly';
</script>
<script type='text/javascript' src='js/cookies.js?cacheclear=1'></script>
<script type='text/javascript' src='js/queryString.js?cacheclear=1'></script>
<script type='text/javascript' src='js/gapi.login.js?cacheclear=1'></script>
<script>
// redirect if its a member
if (queryString("memberId") != null && getCookie("roles") != "guard") {
 var url = "https://docs.google.com/forms/d/e/" + encodeURIComponent(DestinationGoogleFormId) +"/viewform?usp=pp_url&entry."+ encodeURIComponent(DestinationGoogleFormEntryId) +"=" + encodeURIComponent(queryString("memberId"));
 window.location.href = url;
};

</script>
</head>
<header><title>salsativity.org - Registration Redirector</title></header>
<body>
<script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};gapiLoadClient()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
</script>
<br />
<div style='clear:both'><input type='text' style='float:left;' name = '0:0' id='0:0'></div>
<div style='clear:both'><input type='text' style='float:left;' name = '1:0' id='1:0'></div>
<div style='clear:both'><input type='text' style='float:left;' name = '1:1' id='1:1'></div>
<div style='clear:both'><input type='text' style='float:left;' name = '1:2' id='1:2'></div>
<br />
<div style='clear:both'>
<button id="signin-button" onclick="SignInClick().then(gapiLoadClient)">Sign in</button>
<button id="signout-button" onclick="signOutClick()">Sign out</button>
<button id="querySheet-button" onclick="querySheet()">QuerySheet</button>
<input type="button" value="Guard" onclick = "setCookie('roles', 'guard', '365')" />
<input type="button" value="Member" onclick = "setCookie('roles', '', '-1')" />
<input type="button" value="Display current role" onclick = "alertroles()" />
</div>
</body>
</html>
